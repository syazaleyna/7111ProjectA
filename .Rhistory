ggtitle("2019 Filter 1B Feed Flow")
ggplot(filterfeedflowmin2019B1, aes(x=time, y=data, color = type)) +
geom_line() + geom_point(aes(color = type)) +
scale_colour_manual(values=c("blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") + ylim(0,180) +
ggtitle("2019 Filter 1B Feed Flow (filtered)")
}
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
View(filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[2:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[2:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#rosner test
rtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=100)
if (rtestfeedflowmin2019B1$n.outliers > 0){
finalrtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=rtestfeedflowmin2019B1$n.outliers)
filterfeedflowmin2019B1 <- feedflowmin2019B1[-c(finalrtestfeedflowmin2019B1$all.stats$Obs.Num),]
beforefeedflowmin2019B1 <- feedflowmin2019B1 %>%
mutate(outlier = "Before")
afterfeedflowmin2019B1 <- filterfeedflowmin2019B1 %>%
mutate(outlier = "After")
finalfilterfeedflowmin2019B1 <- rbind(beforefeedflowmin2019B1, afterfeedflowmin2019B1)
ggplot(finalfilterfeedflowmin2019B1, aes(x=time, y=data, color = outlier)) +
geom_point(aes(color = outlier)) + geom_line() +
scale_colour_manual(values=c("red", "blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") +
ggtitle("2019 Filter 1B Feed Flow")
ggplot(filterfeedflowmin2019B1, aes(x=time, y=data, color = type)) +
geom_line() + geom_point(aes(color = type)) +
scale_colour_manual(values=c("blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") + ylim(0,180) +
ggtitle("2019 Filter 1B Feed Flow (filtered)")
}
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[2:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[2:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#feed flow
feedflowmin2019B1 <- multiple30min2019B1 %>%
filter( type == 'feedflow')
#rosner test
rtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=100)
if (rtestfeedflowmin2019B1$n.outliers > 0){
finalrtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=rtestfeedflowmin2019B1$n.outliers)
filterfeedflowmin2019B1 <- feedflowmin2019B1[-c(finalrtestfeedflowmin2019B1$all.stats$Obs.Num),]
beforefeedflowmin2019B1 <- feedflowmin2019B1 %>%
mutate(outlier = "Before")
afterfeedflowmin2019B1 <- filterfeedflowmin2019B1 %>%
mutate(outlier = "After")
finalfilterfeedflowmin2019B1 <- rbind(beforefeedflowmin2019B1, afterfeedflowmin2019B1)
ggplot(finalfilterfeedflowmin2019B1, aes(x=time, y=data, color = outlier)) +
geom_point(aes(color = outlier)) + geom_line() +
scale_colour_manual(values=c("red", "blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") +
ggtitle("2019 Filter 1B Feed Flow")
ggplot(filterfeedflowmin2019B1, aes(x=time, y=data, color = type)) +
geom_line() + geom_point(aes(color = type)) +
scale_colour_manual(values=c("blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") + ylim(0,180) +
ggtitle("2019 Filter 1B Feed Flow (filtered)")
}
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[2:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
View(finfourierfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#feed flow
feedflowmin2019B1 <- multiple30min2019B1 %>%
filter( type == 'feedflow')
#rosner test
rtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=100)
if (rtestfeedflowmin2019B1$n.outliers > 0){
finalrtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=rtestfeedflowmin2019B1$n.outliers)
filterfeedflowmin2019B1 <- feedflowmin2019B1[-c(finalrtestfeedflowmin2019B1$all.stats$Obs.Num),]
beforefeedflowmin2019B1 <- feedflowmin2019B1 %>%
mutate(outlier = "Before")
afterfeedflowmin2019B1 <- filterfeedflowmin2019B1 %>%
mutate(outlier = "After")
finalfilterfeedflowmin2019B1 <- rbind(beforefeedflowmin2019B1, afterfeedflowmin2019B1)
ggplot(finalfilterfeedflowmin2019B1, aes(x=time, y=data, color = outlier)) +
geom_point(aes(color = outlier)) + geom_line() +
scale_colour_manual(values=c("red", "blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") +
ggtitle("2019 Filter 1B Feed Flow")
ggplot(filterfeedflowmin2019B1, aes(x=time, y=data, color = type)) +
geom_line() + geom_point(aes(color = type)) +
scale_colour_manual(values=c("blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") + ylim(0,180) +
ggtitle("2019 Filter 1B Feed Flow (filtered)")
}
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#rosner test
rtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=100)
if (rtestfeedflowmin2019B1$n.outliers > 0){
finalrtestfeedflowmin2019B1 <- rosnerTest(feedflowmin2019B1$data, k=rtestfeedflowmin2019B1$n.outliers)
filterfeedflowmin2019B1 <- feedflowmin2019B1[-c(finalrtestfeedflowmin2019B1$all.stats$Obs.Num),]
beforefeedflowmin2019B1 <- feedflowmin2019B1 %>%
mutate(outlier = "Before")
afterfeedflowmin2019B1 <- filterfeedflowmin2019B1 %>%
mutate(outlier = "After")
finalfilterfeedflowmin2019B1 <- rbind(beforefeedflowmin2019B1, afterfeedflowmin2019B1)
ggplot(finalfilterfeedflowmin2019B1, aes(x=time, y=data, color = outlier)) +
geom_point(aes(color = outlier)) + geom_line() +
scale_colour_manual(values=c("red", "blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") +
ggtitle("2019 Filter 1B Feed Flow")
ggplot(filterfeedflowmin2019B1, aes(x=time, y=data, color = type)) +
geom_line() + geom_point(aes(color = type)) +
scale_colour_manual(values=c("blue")) +
xlab("Time (hour)") + ylab("Feed Flow (kl/h)") + ylim(0,180) +
ggtitle("2019 Filter 1B Feed Flow (filtered)")
}
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/3),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(fourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#fourier analysis
filterfeedflowmin2019B1 <- na.omit(filterfeedflowmin2019B1)
ffeedflowmin2019B1 <- abs(fft(filterfeedflowmin2019B1$data))
freqffeedflowmin2019B1 <- 1/(filterfeedflowmin2019B1$time/24)
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/8),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/12),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=freq, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/12),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/12),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[(length(fourierfeedflowmin2019B1$fourier)):(length(fourierfeedflowmin2019B1$fourier)/2),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[(length(fourierfeedflowmin2019B1$fourier)):(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[(length(fourierfeedflowmin2019B1$fourier)-2):(length(fourierfeedflowmin2019B1$fourier)/4),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/12),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
fourierfeedflowmin2019B1 <- cbind(fourier=ffeedflowmin2019B1,
freq=freqffeedflowmin2019B1,
filterfeedflowmin2019B1)
finalfourierfeedflowmin2019B1 <- fourierfeedflowmin2019B1[3:(length(fourierfeedflowmin2019B1$fourier)/12),]
ggplot(finalfourierfeedflowmin2019B1, aes(x=time, y=fourier)) + geom_col() +
xlab("Frequency (1/day)") + ylab("Magnitude") +
ggtitle("Fourier Transformation of 1B Feed Flow")
#-------------------------------------------------------------------------------------------
#extract 1B data from 30min observation
date30min2019B1 <- seedwash30min2019$Date
data30min2019B1 <- data.frame(time = timestep30min2019,           #day
date = date30min2019B1,
status = status30min2019B1,
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,      #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019, #SG
drumspeed = drumspeed30min2019B1,   #RPM
bathlevel = bathlevel30min2019B1,   #%
vacuum = vacuum30min2019B1,         #kPa
feedflow = feedflow30min2019B1,     #kl/h
flocflow = flocflow30min2019B1,     #kl/h
cakewash = cakewash30min2019B1,     #kl/h
clothwash = clothwash30min2019B1,   #kl/h
sodafiltrate = sodafilt30min2019B1, #g/l
oxfiltrate = oxfilt30min2019B1)     #g/l
multiple30min2019B1 <- data30min2019B1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:oxfiltrate)
multiple30min2019B1 <- data30min2019B1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:oxfiltrate)
ggplot(multiple30min2019B1, aes(x=time, y=data, color = type)) + geom_line(alpha = 0.8) +
xlab("Time (hour)") + ggtitle("2019 Filter 1B Data Comparison")
#-------------------------------------------------------------------------------------------
#extract 1B data from 30min observation
date30min2019B1 <- seedwash30min2019$Date
status30min2019B1 <- seedwash30min2019$PO1BFOLXBDI
drumspeed30min2019B1 <- seedwash30min2019$PO1BFDrumSTPV
bathlevel30min2019B1 <- seedwash30min2019$PO1BFBathLCPV
vacuum30min2019B1 <- seedwash30min2019$PO1BVacPCPV
feedflow30min2019B1 <- seedwash30min2019$PO1BFRSFFCPV
flocflow30min2019B1 <- seedwash30min2019$PO1FlocFTPV...148
cakewash30min2019B1 <- seedwash30min2019$PO1BFCaSFTPV
clothwash30min2019B1 <- seedwash30min2019$PO1BFCoSFTPV
sodafilt30min2019B1 <- seedwash30min2019$PO1BFiltATPV
oxfilt30min2019B1 <- seedwash30min2019$PO1AN.Ox...160
data30min2019B1 <- data.frame(time = timestep30min2019,           #day
date = date30min2019B1,
status = status30min2019B1,
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,      #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019, #SG
drumspeed = drumspeed30min2019B1,   #RPM
bathlevel = bathlevel30min2019B1,   #%
vacuum = vacuum30min2019B1,         #kPa
feedflow = feedflow30min2019B1,     #kl/h
flocflow = flocflow30min2019B1,     #kl/h
cakewash = cakewash30min2019B1,     #kl/h
clothwash = clothwash30min2019B1,   #kl/h
sodafiltrate = sodafilt30min2019B1, #g/l
oxfiltrate = oxfilt30min2019B1)     #g/l
multiple30min2019B1 <- data30min2019B1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:oxfiltrate)
data30min2019B1 <- data.frame(time = timestep30min2019,           #day
date = date30min2019B1,
status = status30min2019B1,
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,      #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019, #SG
drumspeed = drumspeed30min2019B1,   #RPM
bathlevel = bathlevel30min2019B1,   #%
vacuum = vacuum30min2019B1,         #kPa
feedflow = feedflow30min2019B1,     #kl/h
flocflow = flocflow30min2019B1,     #kl/h
cakewash = cakewash30min2019B1,     #kl/h
clothwash = clothwash30min2019B1,   #kl/h
sodafiltrate = sodafilt30min2019B1, #g/l
oxfiltrate = oxfilt30min2019B1)     #g/l
multiple30min2019B1 <- data30min2019B1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:oxfiltrate)
library(tidyverse)
library(readxl)
library(ggplot2)
library(tidyr)
library(dplyr)
#read seedwash 30 min data from excel
seedwash30min2016<-read_excel('Seedwash Data for UQ- 30min_2015_2019.xlsx', sheet="2015", skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation", "Argument is not a string or cell reference"))
seedwash30min2017<-read_excel('Seedwash Data for UQ- 30min - Data Only - Set 2_March15.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
seedwash30min2018<-read_excel('Seedwash Data for UQ- 30min - Data Only_March14.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
seedwash30min2019<-read_excel('Seedwash Data for UQ- 30min_2015_2019.xlsx', sheet="2019", skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation", "Argument is not a string or cell reference"))
#read seedwash 20 sec data from excel
seedwash20sec2017<-read_excel('Seedwash Data for UQ- 20Sec - Data Only - Set 2_March15.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
seedwash20sec2018<-read_excel('Seedwash Data for UQ- 20Sec - Data Only_March14.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
seedwash20sec2019<-read_excel('Seedwash Data for UQ- 20Sec_2019.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
#read seedwash 1 day data from excel
seedwashdaily<-read_excel('SeedwashData_1day_2016_2019.xlsx', skip=6, na=c(""," ", "#N/A", "[-11059] No Good Data For Calculation"))
#---------------------------------------------------------------------------------------------
#---------------------------------------------------------------------------------------------
#extract feed data from 30mins observation (2019)
outputspo30min2019 <- seedwash30min2019$PONthTkAN.Ox
outputsoda30min2019 <- seedwash30min2019$POSOFATPV.S
outputalumina30min2019 <- seedwash30min2019$TotalFlow
throughput30min2019 <- seedwash30min2019$POFeedMQPV
spo30min2019 <- seedwash30min2019$POFeedAN.Ox
feedsoda30min2019 <- seedwash30min2019$POFeedAN.C
feeddensity30min2019 <- seedwash30min2019$POFeedDTPV
timestep30min2019 <- seq(616, 0, by = -0.5)
data30min2019 <- data.frame(time = timestep30min2019,           #day
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,          #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019) #SG
multiple30min2019 <- data30min2019 %>%
gather(type, data, outputspo:feeddensity)
#-------------------------------------------------------------------------------------------
#extract 1B data from 30min observation
date30min2019B1 <- seedwash30min2019$Date
status30min2019B1 <- seedwash30min2019$PO1BFOLXBDI
drumspeed30min2019B1 <- seedwash30min2019$PO1BFDrumSTPV
bathlevel30min2019B1 <- seedwash30min2019$PO1BFBathLCPV
vacuum30min2019B1 <- seedwash30min2019$PO1BVacPCPV
feedflow30min2019B1 <- seedwash30min2019$PO1BFRSFFCPV
flocflow30min2019B1 <- seedwash30min2019$PO1FlocFTPV...148
cakewash30min2019B1 <- seedwash30min2019$PO1BFCaSFTPV
clothwash30min2019B1 <- seedwash30min2019$PO1BFCoSFTPV
sodafilt30min2019B1 <- seedwash30min2019$PO1BFiltATPV
oxfilt30min2019B1 <- seedwash30min2019$PO1AN.Ox...160
data30min2019B1 <- data.frame(time = timestep30min2019,           #day
date = date30min2019B1,
status = status30min2019B1,
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,      #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019, #SG
drumspeed = drumspeed30min2019B1,   #RPM
bathlevel = bathlevel30min2019B1,   #%
vacuum = vacuum30min2019B1,         #kPa
feedflow = feedflow30min2019B1,     #kl/h
flocflow = flocflow30min2019B1,     #kl/h
cakewash = cakewash30min2019B1,     #kl/h
clothwash = clothwash30min2019B1,   #kl/h
sodafiltrate = sodafilt30min2019B1, #g/l
oxfiltrate = oxfilt30min2019B1)     #g/l
multiple30min2019B1 <- data30min2019B1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:oxfiltrate)
date30min2019B1 <- seedwash30min2019$Date
#---------------------------------------------------------------------------------------------
#---------------------------------------------------------------------------------------------
#extract feed data from 30mins observation (2019)
date30min2019 <- seedwash30min2019$Date
data30min2019 <- data.frame(time = timestep30min2019,           #day
date = date30min2019,
outputspo = outputspo30min2019,  #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,          #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019) #SG
multiple30min2019 <- data30min2019 %>%
gather(type, data, outputspo:feeddensity)
#------------------------------------------------------------------------------------------------
#extract 1A data from 30mins observation
status30min2019A1 <- seedwash30min2019$PO1AFOLXBDI
drumspeed30min2019A1 <- seedwash30min2019$PO1AFDrumSTPV
bathlevel30min2019A1 <- seedwash30min2019$PO1ABathLCPV
vacuum30min2019A1 <- seedwash30min2019$PO1AVacPCPV
feedflow30min2019A1 <- seedwash30min2019$PO1FeedFCPV
flocflow30min2019A1 <- seedwash30min2019$PO1FlocFTPV...17
cakewash30min2019A1 <- seedwash30min2019$PO1ASprayFCPV
clothwash30min2019A1 <- seedwash30min2019$PO1AFCoSFTPV
sodafilt30min2019A1 <- seedwash30min2019$PO1AFltAN.C
oxfilt30min2019A1 <- seedwash30min2019$PO1AFltAN.Ox
#soda concentration in ton/hr
sodaconc30min2019A1 <- c(1:length(feedflow30min2019A1))
for (i in 1:length(sodaconc30min2019A1)){
sodaconc30min2019A1[i] <- feedflow30min2019A1[i]*modfeedsoda30min2019[i]/1000
}
data30min2019A1 <- data.frame(time = timestep30min2019,           #day
status = status30min2019A1,
outputspo = outputspo30min2019,     #%
outputsoda = outputsoda30min2019,   #g/l
outputalumina = outputalumina30min2019, #kl/h
throughput = throughput30min2019,   #t/h
feedspo = spo30min2019,      #%
feedsoda = feedsoda30min2019,    #g/l
feeddensity = feeddensity30min2019, #SG
drumspeed = drumspeed30min2019A1,   #RPM
bathlevel = bathlevel30min2019A1,   #%
vacuum = vacuum30min2019A1,         #kPa
feedflow = feedflow30min2019A1,     #kl/h
flocflow = flocflow30min2019A1,     #kl/h
cakewash = cakewash30min2019A1,     #kl/h
clothwash = clothwash30min2019A1,   #kl/h
sodafiltrate = sodafilt30min2019A1, #g/l
oxfiltrate = oxfilt30min2019A1,     #g/l
sodaconc = sodaconc30min2019A1)     #t/h
multiple30min2019A1 <- data30min2019A1 %>%
filter(status == 'On') %>%
gather(type, data, outputspo:sodaconc)
